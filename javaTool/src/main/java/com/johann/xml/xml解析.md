
　　解析 XML 文件一般来说有两种底层形式，一种是基于树的结构来解析的称为DOM；另一种是基于事件流的形式称为Sax。
而在这两种解析方式的基础上，基于底层api的更高级封装解析器也应用而生，比如面向Java的 JDom和 Dom4J。

### 1，DOM(Document Object Model)

　　DOM 是用与平台和语言无关的方式表示 XML 文档的官方 W3C 标准。是基于树形结构的 XML 解析方式，它会将整个 XML 文档读入内存并构建一个 DOM 树，基于这棵树形结构对各个节点（Node）进行操作。

　　优点：

　　　　①、整个 Dom 树都加载到内存中了，所以允许随机读取访问数据。

　　　　②、允许随机的对文档结构进行增删。

　　缺点：

　　　　①、整个 XML 文档必须一次性解析完，耗时。

　　　　②、整个 Dom 树都要加载到内存中，占内存。

　　适用于：文档较小，且需要修改文档内容

### 2，Sax(Simple API for XML)

　　SAX处理的特点是基于事件流的。分析能够立即开始，而不是等待所有的数据被处理。而且由于应用程序只是在读取数据时检查数据，因此不需要将数据存储在内存中。
这对于大型文档来说是个巨大的优点。事实上，应用程序甚至不必解析整个文档；它可以在某个条件得到满足时停止解析。
sax分析器在对xml文档进行分析时，触发一系列的事件，应用程序通过事件处理函数实现对xml文档的访问，因为事件触发是有时序性的，所以sax分析器提供的是一种对xml文档的顺序访问机制，
对于已经分析过的部分，不能再重新倒回去处理。此外，它也不能同时访问处理2个tag。

　　sax分析器在实现时，只是顺序地检查xml文档中的字节流，判断当前字节是xml语法中的哪一部分，检查是否符合xml语法并且触发相应的事件。对于事件处理函数的本身，要由应用程序自己来实现。
 SAX解析器采用了基于事件的模型，它在解析XML文档的时候可以触发一系列的事件，当发现给定的tag的时候，它可以激活一个回调方法，告诉该方法指定的标签已经找到。
 
 　　优点：
 
 　　　　①、访问能够立即进行，不需要等待所有数据被加载。
 
 　　　　②、只在读取数据时检查数据，不需要保存在内存中
 
 　　　　③、不需要将整个数据都加载到内存中，占用内存少
 
 　　　　④、允许注册多个Handler,可以用来解析文档内容，DTD约束等等。
 
 　　缺点：
 
 　　　　①、需要应用程序自己负责TAG(标签)的处理逻辑（例如维护父/子关系等），文档越复杂程序就越复杂。
 
 　　　　②、单向导航，无法定位文档层次，很难同时访问同一文档的不同部分数据，不支持[XPath](https://www.runoob.com/xpath/xpath-syntax.html)。
 
 　　　　③、不能随机访问 xml 文档，不支持原地修改xml。
 
　　适用于：文档较大，只需要读取文档数据。

### 3，JDOM(Java-based Document Object Model)

　　JDOM是处理xml的纯java api，使用具体类而不是接口。JDOM具有树的遍历,又有SAX的java规则。

　　JDOM与DOM主要有两方面不同。首先，JDOM仅使用具体类而不使用接口。这在某些方面简化了API，但是也限制了灵活性。第二，API大量使用了Collections类，简化了那些已经熟悉这些类的Java开发者的使用。

　　JDOM自身不包含解析器。它通常使用SAX2解析器来解析和验证输入XML文档（尽管它还可以将以前构造的DOM表示作为输入）。它包含一些转换器以将JDOM表示输出成SAX2事件流、DOM模型或XML文本文档。
JDOM是在Apache许可证变体下发布的开放源码。

　　优点：

　　　　①、使用具体类而不是接口，简化了DOM的API。

　　　　②、大量使用了Java集合类，方便了Java开发人员。

　　缺点：

　　　　①、不能处理大于内存的文档.

　　　　②、API 简单，没有较好的灵活性

### 4，DOM4J(Document Object Model for Java)

　　虽然DOM4J代表了完全独立的开发结果，但最初，它是JDOM的一种智能分支。它合并了许多超出基本XML文档表示的功能，包括集成的XPath，支持XML Schema支持以及用于大文档或流化文档的基于事件的处理。
它还提供了构建文档表示的选项，它通过DOM4J API和标准DOM接口具有并行访问功能。从2000下半年开始，它就一直处于开发之中。

　　为支持所有这些功能，DOM4J使用接口和抽象基本类方法。DOM4J大量使用了API中的Collections类，但是在许多情况下，它还提供一些替代方法以允许更好的性能或更直接的编码方法。
直接好处是，虽然DOM4J付出了更复杂的API的代价，但是它提供了比JDOM大得多的灵活性。

　　在添加灵活性、XPath集成和对大文档处理的目标时，DOM4J的目标与JDOM是一样的：针对Java开发者的易用性和直观操作。它还致力于成为比JDOM更完整的解决方案，实现在本质上处理所有Java/XML问题的目标。
在完成该目标时，它比JDOM更少强调防止不正确的应用程序行为。

　　DOM4J是一个非常非常优秀的Java XML API，具有性能优异、功能强大和极端易用使用的特点，同时它也是一个开放源代码的软件。如今你可以看到越来越多Java软件都在使用DOM4J来读写XML，
特别值得一提的是连Sun的JAXM也在用DOM4J。

　　优点：

　　　　①、大量使用了Java集合类，方便Java开发人员，同时提供一些提高性能的替代方法。

　　　　②、支持XPath。查找节点特别快

　　　　③、灵活性高。

　　缺点：

　　　　①、大量的使用了接口，API复杂，理解难。

　　　　②、移植性差。

### 5，综合比较

1. DOM4J性能最好，连Sun的JAXM也在用DOM4J。目前许多开源项目中大量采用DOM4J，例如大名鼎鼎的Hibernate也用DOM4J来读取XML配置文件。如果不考虑可移植性，那就采用DOM4J。

2. JDOM和DOM在性能测试时表现不佳，在测试10M文档时内存溢出，但可移植。在小文档情况下还值得考虑使用DOM和JDOM。此外，DOM仍是一个非常好的选择。DOM实现广泛应用于多种编程语言。
它还是许多其它与XML相关的标准的基础，因为它正式获得W3C推荐（与基于非标准的Java模型相对），所以在某些类型的项目中可能也需要它（如在JavaScript中使用DOM）。

3. SAX表现较好，这要依赖于它特定的解析方式－事件驱动。一个SAX检测即将到来的XML流，但并没有载入到内存（当然当XML流被读入时，会有部分文档暂时隐藏在内存中）。

综上所述：如果XML文档较大且不考虑移植性问题建议采用DOM4J；如果XML文档较小则建议采用JDOM；如果需要及时处理而不需要保存数据则考虑SAX。