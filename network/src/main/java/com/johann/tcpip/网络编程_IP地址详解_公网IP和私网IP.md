### 公网IP和私网IP
　　IP可以分为Public IP 和 Private IP，出现这种规划的原因在于IPv4所能表示的IP太少而电脑太多以至于不够用，然而只有Public IP才能直接连接上网络，所以对于那些公司，学校，政府机构等场所，
就可以集中使用私有的IP进行管理，而大家可以共用一个IP去连接上公网，这样，就省下了许多宝贵的Public IP。你有没有发现，你每次使用ipconfig查到的地址，要么就是172.开头的，要么就是192.开头的，
要么是10.开头，为什么？难道没有其他开头的嘛，答:基本没有。因为一个Ip分给我们一个Pc端太不划算了，一般都是很多人共享一个ip，我们用ipconfig查询到的其实只是我们的局域网Ip，
172.开头的意味着我们是B类型的局域网，以１９２.开头的意味着你是ｃ类的局域网。所以我们一直都没有接触到正真的ｉｐ，我们一直打交道的都是私有ｉｐ又叫private ip.

　　ipconfig查出来的是你本机的IP地址，也就是内网私有地址，此类地址仅在局域网使用，不能联通外网。百度查出来的地址是你上网的共有地址，也许并不是你主机的地址，
而是电信或联通分给你的地址，用于连接互联网。

* Public IP : 公共 IP ，经由 InterNIC（国际互联网络信息中心，全称叫做Internet Network Information Center） 所统一规划的 IP，有这种 IP 才可以连上 Internet ；
* Private IP : 私有 IP 或保留 IP，不能直接连上 Internet 的 IP ，主要用于局域网络内的主机联机规划。

#### 私有IP网段
　　早在 IPv4 规划的时候就担心 IP 会有不足的情况，而且为了应付某些企业内部的网络设定，于是就有了私有IP (Private IP) 的产生。
私有 IP 也分别在 A, B, C 三个 Class 当中各保留一段作为私有 IP 网段，那就是：

* Class A：10.0.0.0    - 10.255.255.255
* Class B：172.16.0.0  - 172.31.255.255
* Class C：192.168.0.0 - 192.168.255.255

　　由于这三段 Class 的 IP 是预留使用的，所以并不能直接作为 Internet 上面的连接之用，不然的话，到处就都有相同的IP！所以，这三个 IP 网段就只做为内部私有网域的IP 沟通之用。
一般说来，我们用Ipcofig是无法查到公网ip的，大多数时候，你使用ipconfig查到的一般就只是以172.开头的b类私有Ip，或者以192.168开头的c类私有Ip.简单的说，私有ip有以下的几个限制：

* 私有 IP 的路由信息不能对外散播 (只能存在内部网络)；
* 使用私有 IP 作为来源或目的地址的封包，不能透过 Internet 来转送 (不然网络会混乱)；
* 关于私有 IP 的参考纪录(如 DNS)，只能限于内部网络使用 (一样的原理啦)

　　这个私有 IP 有什么好处呢？由于他的私有路由不能对外直接提供信息，所以你的内部网络将不会直接被 Internet 上面的 Cracker 所攻击！但是，你也就无法以私有 IP 来『直接上网』！
因此相当适合一些尚未具有Public IP 的企业内部用来规划其网络之设定！否则当你随便指定一些可能是Public IP 的网段来规划你企业内部的网络设定时，万一哪一天真的连上Internet 了，
那么岂不是可能会造成跟 Internet 上面的 Public IP 相同了吗？

　　只有公网ip是能够连接互联网的，私网IP 一般只用作局域网。

　　我们能够上网靠的是ISP组织分给我们的IP地址，但是这个IP地址一般不是给个人的，一般都是给一个单位，一个区域的，也就是说我们实际上能接触到的一般都是私有地址，即我们用ipconig查到的都是私有地址，
也就相当于局域网内的IP地址，当我们真正联网时，会先把数据发送到路由，然后再由路由进行处理实现真正的联网操作，路由的地址才是真正联网的IP地址，也就是pubilc IP，而我们在自己电脑上查到的都是私有IP。

### A、B、C类IP地址范围
```text
类别         IP范围                      私有地址范围                      保留地址

 A    1.0.0.0~126.255.255.255      10.0.0.0~10.255.255.255       127.0.0.0~127.255.255.255

 B   128.0.0.0~191.255.255.255    172.16.0.0~172.31.255.255     169.254.0.0~169.254.255.255

 C   192.0.0.0~223.255.255.255    192.168.0.0~192.168.255.255              无

```

### 上网流程
　　移动公司分给我们的ip是117.158.134.217，这是我们这一栋楼能连上网的公网IP，那么如何让这一个IP使学校里面的所有人都能使用呢，我们开始重新划分局域网。
上文中，根据需求选择合适的A、B、C类网络来划分，我们通过私网IP把我们的需求和要发送的数据发给路由器，然后路由器对接网络，再把数据发送给Internet。
然后internet发送数据到我们学校的路由，然后路由在通过我的私网IP发送给我，这就是我们真实上网的流程。

　　大家可能也注意到了一个问题，就是我们在百度查到的IP是117开头的，也就是说其实是A类，但是我们这边私网IP却是172开头的，是b类的私有IP地址，那么问题来了？
117开头的IP地址是如何转换成172开头的私有ip的呢？他们之间一定有一个转换关系，构成了一个公网和私网之间的一个映射。这个关系是什么呢？？？

　　在查阅了多方资料之后，这个问题其实就是私网Ip和公网Ip的转换这个问题，其实利用到了[NAT转换技术](https://baike.baidu.com/item/nat/320024#5)，
将172.16.xxx.xxx~172.31.xxx.xxx转换到公网ip。我们的私网ip是自成体系的，在合理的建设完私网ip后，我们只需利用nat技术将公网ip和私网ip做一个转换即可。

　　随着学校换地方，我们的Ip也发生了一些微妙的变化。我们搬到了一个新的环境，还没搭建起服务器。当我使用Ipconfig命令来查询自己的ip地址的时候，我们发现了一个奇怪的事情，
我们获取到的ip地址是一个以169开头的ip地址，上文已经提到过我们正常情况下获到的地址应该是一个以172.16~172.31这之间开头的，那么为什么会出现169开头的呢？

　　169开头的是一个保留地址，是本地连接受限时系统自动分配的ip没有什么实际的意义，出现这种情况可能是服务器还没搭建好。果然，等我们重新搭建好了代理服务器之后，
我们的网址又变回了现在的172.18开头的网址。




### 参考
[公网Ip和私网ip](https://www.cnblogs.com/duanwandao/p/9929806.html)