# 设计模式六大原则【SOLID】
* 单一职责原则（Single Responsibility Principle）；
* 开闭原则（Open Closed Principle）；
* 里氏替换原则（Liskov Substitution Principle）；
* 迪米特法则（Law of Demeter），又叫“最少知道法则”；
* 接口隔离原则（Interface Segregation Principle）；
* 依赖倒置原则（Dependence Inversion Principle）。

### 1，单一职责原则(Single Responsibility Principle, SRP)
单一职责原则(SRP)，就一个类而言，应该仅有一个引起它变化的原因。

如果一个类承担的职责过多，就等于把这些职责耦合在一起，一个职责的变化可能会削弱或者抑制这个类完成其他职责的能力。这种耦合会导致脆弱的设计，当变化发生时，设计会遭受到意想不到的破坏。

### 2，开闭原则(Open Closed Principle, OCP)
开闭原则是指一个软件实体如类、模块和函数应该对扩展开放，对修改关闭。也就是说一个软件实体应该通过扩展来实现变化，而不是通过修改已有的代码来实现变化。

### 3，里氏替换原则(Liskov Substitution Principle, LSP)
定义是：如果对每一个类型为S的对象s1，都有类型为F的对象f1，在程序P中，所有的对象f1都替换为s1时，程序P的行为没有发生变化，那么类型S是类型F的子类型。

通俗点讲，任何基类可以出现的地方，子类一定可以出现，而且替换为子类也不会产生任何错误或异常。即，子类继承父类时，除添加新的方法完成新增功能外，尽量不要重写父类的方法。

里氏替换原则包含以下4层含义：
1. 子类必须完全实现父类的方法。
2. 子类可以有自己的属性和方法。也正因如此，在子类出现的地方，父类未必就可以代替。
3. 覆盖或实现父类的方法时，子类方法的输入参数可以被放大。
4. 覆盖或实现父类的方法时，输出结果可以被缩小。即，子类方法的返回值必须和父类方法的返回值相同或是其子类。

### 4，迪米特法则（Law of Demeter, LOD）
迪米特法则（Law of Demeter）又叫作最少知识原则（The Least Knowledge Principle）。
一个类对于其他类知道的越少越好，就是说一个对象应当对其他对象有尽可能少的了解,只和朋友通信，不和陌生人说话。

1. 只和直接的朋友交流；
2. 减少对朋友的了解。

> 迪米特法则在类的设计上的体现：
> 1), 优先考虑将一个类设置成不变类。
> 2), 尽量降低一个类的访问权限。
> 3), 谨慎使用Serializable。
> 4), 尽量降低成员的访问权限。

### 5，接口隔离原则（Interface Segregation Principle, ISP）
客户端不应该依赖它不需要的接口。一个类对另一个类的依赖应该建立在最小的接口上。

使用多个专门的接口比使用单一的总接口要好。
一个类对另外一个类的依赖性应当是建立在最小的接口上的。
一个接口代表一个角色，不应当将不同的角色都交给一个接口。没有关系的接口合并在一起，形成一个臃肿的大接口，这是对角色和接口的污染。

例子：对于订单而言，用户组件只能使用“查询订单”功能，维护组件只能只用“添加订单”功能，后台管理员可以使用“查询订单”、“添加订单”、“修改删除订单”功能。
此时，应该将订单的依赖拆分为三个单独的接口：“针对用户的订单接口”、“针对维护的订单接口”、“针对管理员的订单接口”，然后订单类实现这三个接口。订单类包含返回这三个独立接口的类方法。
对用户组件，只需要通过订单类获取“针对用户的订单接口”对象即可，此时“针对用户的订单接口”对象只能使用“查询订单”功能。

### 6，依赖倒置原则（Dependence Inversion Principle, DIP）
1. 模块间的依赖通过抽象发生，实现类之间不直接发生依赖关系，其依赖关系是通过接口或抽象类产生的；
2. 接口或抽象类不依赖于实现类；
3. 实现类依赖接口或抽象类。

说白了，就是“面向接口编程”。
依赖倒置原则可以减少类间的耦合性，提高系统的稳定性，降低并行开发引起的风险，提高代码的可读性和可维护性。

##### 依赖注入主要有三种方式
1. 构造注入，在构造的时候注入依赖
2. Setter方法注入
3. 接口方法中注入(汽车的例子使用的就是此方法)
##### 依赖倒置原则在设计模式中的体现
1. 简单工厂设计模式, 使用的是接口方法中注入
2. 策略设计模式: 在构造函数中注入.

例子：汽车驾驶，原先只能驾驶”本田“汽车，现在要新增汽车种类，此时抽象出一个接口ICar，所有具体类型的汽车都实现这个ICar接口。
